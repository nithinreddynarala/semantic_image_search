{"base_dir": "C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search", "timestamp": "2025-12-03T05:50:07.399267Z", "level": "info", "event": "BASE_DIR resolved successfully"}
{"env_path": "C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\.env", "timestamp": "2025-12-03T05:50:07.400267Z", "level": "info", "event": ".env loaded successfully"}
{"value": "C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\images", "timestamp": "2025-12-03T05:50:07.400267Z", "level": "info", "event": "IMAGES_ROOT configured"}
{"value": "C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\data\\query_images", "timestamp": "2025-12-03T05:50:07.401266Z", "level": "info", "event": "QUERY_IMAGE_ROOT configured"}
{"value": "C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\data\\retrieved", "timestamp": "2025-12-03T05:50:07.401266Z", "level": "info", "event": "RETRIEVED_ROOT configured"}
{"value": "ViT-B-32", "timestamp": "2025-12-03T05:50:07.401266Z", "level": "info", "event": "CLIP_MODEL_NAME loaded"}
{"value": "laion2b_s34b_b79k", "timestamp": "2025-12-03T05:50:07.402269Z", "level": "info", "event": "CLIP_CHECKPOINT loaded"}
{"value": "cpu", "timestamp": "2025-12-03T05:50:07.402269Z", "level": "info", "event": "DEVICE selected"}
{"timestamp": "2025-12-03T05:50:07.402269Z", "level": "warning", "event": "QDRANT_URL missing in environment"}
{"timestamp": "2025-12-03T05:50:07.402269Z", "level": "info", "event": "QDRANT_API_KEY loaded (hidden)"}
{"value": "semantic-image-search", "timestamp": "2025-12-03T05:50:07.402269Z", "level": "info", "event": "QDRANT_COLLECTION loaded"}
{"value": 512, "timestamp": "2025-12-03T05:50:07.403267Z", "level": "info", "event": "VECTOR_SIZE loaded"}
{"value": "openai/gpt-oss-20b", "timestamp": "2025-12-03T05:50:07.403267Z", "level": "info", "event": "GROQ_MODEL loaded"}
{"timestamp": "2025-12-03T05:50:09.040154Z", "level": "info", "event": "Initializing ImageSearchService"}
{"timestamp": "2025-12-03T05:50:09.040154Z", "level": "warning", "event": "QDRANT_URL missing in environment"}
{"url": null, "using_api_key": true, "timestamp": "2025-12-03T05:50:09.040154Z", "level": "info", "event": "Initializing Qdrant client"}
{"timestamp": "2025-12-03T05:50:13.305829Z", "level": "info", "event": "Qdrant client initialized successfully"}
{"timestamp": "2025-12-03T05:50:13.306829Z", "level": "info", "event": "Fetching existing Qdrant collections..."}
{"error": "[WinError 10061] No connection could be made because the target machine actively refused it", "timestamp": "2025-12-03T05:50:17.387917Z", "level": "error", "event": "Failed to ensure Qdrant collection"}
{"error": "Error in [C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api_client.py] at line [136] | Message: Failed to ensure Qdrant collection\nTraceback:\nTraceback (most recent call last):\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 101, in map_httpcore_exceptions\n    yield\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 250, in handle_request\n    resp = self._pool.handle_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_sync\\connection_pool.py\", line 256, in handle_request\n    raise exc from None\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_sync\\connection_pool.py\", line 236, in handle_request\n    response = connection.handle_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_sync\\connection.py\", line 101, in handle_request\n    raise exc\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_sync\\connection.py\", line 78, in handle_request\n    stream = self._connect(request)\n             ^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_sync\\connection.py\", line 124, in _connect\n    stream = self._network_backend.connect_tcp(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_backends\\sync.py\", line 207, in connect_tcp\n    with map_exceptions(exc_map):\n  File \"C:\\Users\\Narala Nithin\\AppData\\Roaming\\uv\\python\\cpython-3.11.14-windows-x86_64-none\\Lib\\contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpcore\\_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ConnectError: [WinError 10061] No connection could be made because the target machine actively refused it\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api_client.py\", line 134, in send_inner\n    response = self._client.send(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 914, in send\n    response = self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 942, in _send_handling_auth\n    response = self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 979, in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1014, in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 249, in handle_request\n    with map_httpcore_exceptions():\n  File \"C:\\Users\\Narala Nithin\\AppData\\Roaming\\uv\\python\\cpython-3.11.14-windows-x86_64-none\\Lib\\contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ConnectError: [WinError 10061] No connection could be made because the target machine actively refused it\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\semantic_image_search\\backend\\qdrant_client.py\", line 54, in ensure_collection\n    all_collections = client.get_collections().collections\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\qdrant_client.py\", line 1528, in get_collections\n    return self._client.get_collections(**kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\qdrant_remote.py\", line 1800, in get_collections\n    self.http.collections_api.get_collections().result\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api\\collections_api.py\", line 330, in get_collections\n    return self._build_for_get_collections()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api\\collections_api.py\", line 159, in _build_for_get_collections\n    return self.api_client.request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api_client.py\", line 95, in request\n    return self.send(request, type_)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api_client.py\", line 112, in send\n    response = self.middleware(request, self.send_inner)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api_client.py\", line 250, in __call__\n    return call_next(request)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Narala Nithin\\OneDrive\\Desktop\\semantic_image_search\\venv\\Lib\\site-packages\\qdrant_client\\http\\api_client.py\", line 136, in send_inner\n    raise ResponseHandlingException(e)\nqdrant_client.http.exceptions.ResponseHandlingException: [WinError 10061] No connection could be made because the target machine actively refused it\n", "timestamp": "2025-12-03T05:50:17.398915Z", "level": "error", "event": "Failed to initialize ImageSearchService"}
